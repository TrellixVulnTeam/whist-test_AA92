{"ast":null,"code":"var _jsxFileName = \"C:\\\\scripting\\\\jobs assignments\\\\whist\\\\frontend\\\\src\\\\components\\\\stats.jsx\";\nimport React, { Component } from 'react';\nimport statsService from '../services/statsService';\nimport statsHelpers from '../common/statsHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Stats extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      topSellers: [],\n      topUniqueSellers: [],\n      sellsFiveDays: []\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      data: topSellers\n    } = await statsService.getTopSellers();\n    const {\n      data: topUniqueSellers\n    } = await statsService.getUniqueSellers();\n    const {\n      data: sellsFiveDays\n    } = await statsService.getSells();\n    this.setState({\n      topSellers: topSellers,\n      topUniqueSellers: topUniqueSellers,\n      sellsFiveDays: sellsFiveDays\n    });\n  }\n\n  getTodaySells() {\n    let todayDate = statsHelpers.getTodayDate();\n    let todaySells = this.state.sellsFiveDays.filter(sell => sell == todayDate);\n    console.log(todaySells);\n    let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\n    let sum = todaysAllSales.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    return sum;\n  }\n\n  getYesterdaySells() {\n    let todayDate = statsHelpers.getYesterdayDate();\n    let todaySells = this.state.sellsFiveDays.filter(sell => sell);\n    let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\n    let sum = todaysAllSales.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    return sum;\n  }\n\n  lastTwoDays() {\n    let todayDate = statsHelpers.lastTwoDate();\n    let todaySells = this.state.sellsFiveDays.filter(sell => sell == todayDate);\n    let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\n    let sum = todaysAllSales.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    return sum;\n  }\n\n  lastThreeDays() {\n    let todayDate = statsHelpers.lastThreeDate();\n    let todaySells = [];\n    todaySells = this.state.sellsFiveDays.filter(function (el) {\n      return el.date = todayDate;\n    });\n    let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\n    let sum = todaysAllSales.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    return sum;\n  }\n\n  lastFourDays() {\n    let todayDate = statsHelpers.lastFourDate();\n    let todaySells = [];\n    todaySells = this.state.sellsFiveDays.filter(function (el) {\n      return el.date = todayDate;\n    });\n    let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\n    let sum = todaysAllSales.reduce(function (a, b) {\n      return a + b;\n    }, 0);\n    return sum;\n  }\n\n  render() {\n    let {\n      topSellers,\n      topUniqueSellers\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container shadow p-3 mb-5 bg-white rounded d-flex justify-content-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3 row m-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mt-4\",\n              children: \"top sellers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), topSellers.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-title m-1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [item.title, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"float-right\",\n                  children: [\"times Sold: \", item.timesSold]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3 row m-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title text-center \",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mt-4\",\n              children: \"top unique sells\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), topUniqueSellers.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-title m-1\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [item.title, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"float-right\",\n                  children: [\"times Sold: \", item.timesUniqueSold]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 33\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-3 row m-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mt-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"mt-4\",\n              children: \"top in past 5 days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title m-1\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [statsHelpers.getTodayDate(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"float-right\",\n                children: [\"$\", this.getTodaySells()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 62\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title m-1\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [statsHelpers.getYesterdayDate(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"float-right\",\n                children: [\"$\", this.getYesterdaySells()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 66\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title m-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [statsHelpers.lastTwoDate(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"float-right\",\n                children: [\"$\", this.lastTwoDays()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 61\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), \"                        \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title m-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [statsHelpers.lastThreeDate(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"float-right\",\n                children: [\"$\", this.lastThreeDays()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 63\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 29\n            }, this), \"                        \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-title m-1\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [statsHelpers.lastFourDate(), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"float-right\",\n                children: [\"$\", this.lastFourDays()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 62\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Stats;","map":{"version":3,"sources":["C:/scripting/jobs assignments/whist/frontend/src/components/stats.jsx"],"names":["React","Component","statsService","statsHelpers","Stats","state","topSellers","topUniqueSellers","sellsFiveDays","componentDidMount","data","getTopSellers","getUniqueSellers","getSells","setState","getTodaySells","todayDate","getTodayDate","todaySells","filter","sell","console","log","todaysAllSales","map","todaySell","sum","reduce","a","b","getYesterdaySells","getYesterdayDate","lastTwoDays","lastTwoDate","lastThreeDays","lastThreeDate","el","date","lastFourDays","lastFourDate","render","item","title","timesSold","timesUniqueSold"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport statsService from '../services/statsService';\r\nimport statsHelpers from '../common/statsHelpers';\r\n\r\n\r\nclass Stats extends React.Component {\r\n\r\n    state = {\r\n        topSellers: [],\r\n        topUniqueSellers: [],\r\n        sellsFiveDays: []\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { data: topSellers } = await statsService.getTopSellers();\r\n        const { data: topUniqueSellers } = await statsService.getUniqueSellers()\r\n        const { data: sellsFiveDays } = await statsService.getSells()\r\n        this.setState({ topSellers: topSellers, topUniqueSellers: topUniqueSellers, sellsFiveDays: sellsFiveDays });\r\n    }\r\n\r\n\r\n    getTodaySells() {\r\n        let todayDate = statsHelpers.getTodayDate()\r\n        let todaySells = this.state.sellsFiveDays.filter(sell => sell == todayDate)\r\n        console.log(todaySells);\r\n        let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\r\n        let sum = todaysAllSales.reduce(function (a, b) {\r\n            return a + b;\r\n        }, 0);\r\n\r\n        return sum\r\n    }\r\n\r\n    getYesterdaySells() {\r\n        let todayDate = statsHelpers.getYesterdayDate()\r\n\r\n        let todaySells = this.state.sellsFiveDays.filter(sell => sell)\r\n\r\n\r\n        let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\r\n        let sum = todaysAllSales.reduce(function (a, b) {\r\n            return a + b;\r\n        }, 0);\r\n\r\n        return sum\r\n    }\r\n\r\n    lastTwoDays() {\r\n        let todayDate = statsHelpers.lastTwoDate()\r\n\r\n        let todaySells = this.state.sellsFiveDays.filter(sell => sell == todayDate)\r\n\r\n        let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\r\n        let sum = todaysAllSales.reduce(function (a, b) {\r\n            return a + b;\r\n        }, 0);\r\n\r\n        return sum\r\n    }\r\n\r\n    lastThreeDays() {\r\n        let todayDate = statsHelpers.lastThreeDate()\r\n\r\n        let todaySells = []\r\n        todaySells = this.state.sellsFiveDays.filter(function (el) {\r\n            return el.date = todayDate\r\n        })\r\n\r\n        let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\r\n        let sum = todaysAllSales.reduce(function (a, b) {\r\n            return a + b;\r\n        }, 0);\r\n\r\n        return sum\r\n    }\r\n\r\n    lastFourDays() {\r\n        let todayDate = statsHelpers.lastFourDate()\r\n\r\n        let todaySells = []\r\n        todaySells = this.state.sellsFiveDays.filter(function (el) {\r\n            return el.date = todayDate\r\n        })\r\n\r\n        let todaysAllSales = todaySells.map(todaySell => todaySell.sell);\r\n        let sum = todaysAllSales.reduce(function (a, b) {\r\n            return a + b;\r\n        }, 0);\r\n\r\n        return sum\r\n    }\r\n\r\n\r\n    render() {\r\n        let { topSellers, topUniqueSellers } = this.state;\r\n\r\n        return (\r\n            <div className=\"container shadow p-3 mb-5 bg-white rounded d-flex justify-content-center\">\r\n                <div className=\"col-3 row m-4\">\r\n                    <div className=\"card mt-5\">\r\n                        <div className=\"card-title text-center\">\r\n                            <h4 className=\"mt-4\">top sellers</h4>\r\n                        </div>\r\n                        <hr />\r\n                        {topSellers.map(item => {\r\n                            return (\r\n                                <div className=\"card-title m-1\">\r\n                                    <p>{item.title} <span className=\"float-right\">times Sold: {item.timesSold}</span></p>\r\n                                </div>\r\n                            )\r\n                        })}\r\n\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-3 row m-4\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-title text-center \">\r\n                            <h4 className=\"mt-4\">top unique sells</h4>\r\n                        </div>\r\n                        <hr />\r\n                        {topUniqueSellers.map(item => {\r\n                            return (\r\n                                <div className=\"card-title m-1\">\r\n                                    <p>{item.title} <span className=\"float-right\">times Sold: {item.timesUniqueSold}</span></p>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-3 row m-4\">\r\n                    <div className=\"card mt-5\">\r\n                        <div className=\"card-title text-center\">\r\n                            <h4 className=\"mt-4\">top in past 5 days</h4>\r\n                        </div>\r\n                        <hr />\r\n                        <div className=\"card-title m-1\">\r\n                            <p>{statsHelpers.getTodayDate()} <span className=\"float-right\">${this.getTodaySells()}</span> </p>\r\n                        </div>\r\n                        <div className=\"card-title m-1\">\r\n                            <p>{statsHelpers.getYesterdayDate()} <span className=\"float-right\">${this.getYesterdaySells()}</span></p>\r\n                        </div>\r\n                        <div className=\"card-title m-1\">\r\n                            <p>{statsHelpers.lastTwoDate()} <span className=\"float-right\">${this.lastTwoDays()}</span></p>                        </div>\r\n                        <div className=\"card-title m-1\">\r\n                            <p>{statsHelpers.lastThreeDate()} <span className=\"float-right\">${this.lastThreeDays()}</span></p>                        </div>\r\n                        <div className=\"card-title m-1\">\r\n                            <p>{statsHelpers.lastFourDate()} <span className=\"float-right\">${this.lastFourDays()}</span></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\n\r\nexport default Stats;"]},"metadata":{},"sourceType":"module"}