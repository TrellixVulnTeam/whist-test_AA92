{"ast":null,"code":"var _jsxFileName = \"C:\\\\scripting\\\\jobs assignments\\\\whist\\\\frontend\\\\src\\\\components\\\\editProduct.jsx\";\nimport React from 'react';\nimport productService from '../services/productService';\nimport Joi from \"joi-browser\";\nimport Form from '../common/form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditProduct extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {},\n      errors: {}\n    };\n    this.schema = {\n      _id: Joi.string(),\n      title: Joi.string().min(2).max(255).required(),\n      price: Joi.string().min(1).max(10).required(),\n      description: Joi.string().min(2).max(1024).required(),\n      imageUrl: Joi.string().min(2).max(2024).required()\n    };\n\n    this.doSubmit = async () => {\n      const {\n        data\n      } = this.state;\n      await productService.editProduct(data);\n      this.props.history.replace(\"/admin\");\n    };\n  }\n\n  async componentDidMount() {\n    const productID = this.props.match.params.productID;\n    const {\n      data\n    } = await productService.getProduct(productID);\n    this.setState({\n      data: this.mapToViewModel(data)\n    });\n  }\n\n  mapToViewModel(product) {\n    return {\n      title: product.title,\n      price: product.price,\n      description: product.description,\n      imageUrl: product.imageUrl,\n      _id: product._id\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          method: \"POST\",\n          children: [this.renderInput('title', 'Title', 'Title'), this.renderInput('price', 'Price', 'price'), this.renderTextArea('description', 'Description', 'description'), this.renderInput('imageUrl', 'Image url', 'ImageUrl'), this.renderButton('Upload product')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditProduct;","map":{"version":3,"sources":["C:/scripting/jobs assignments/whist/frontend/src/components/editProduct.jsx"],"names":["React","productService","Joi","Form","EditProduct","state","data","errors","schema","_id","string","title","min","max","required","price","description","imageUrl","doSubmit","editProduct","props","history","replace","componentDidMount","productID","match","params","getProduct","setState","mapToViewModel","product","render","handleSubmit","renderInput","renderTextArea","renderButton"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;;;AAGA,MAAMC,WAAN,SAA0BD,IAA1B,CAA+B;AAAA;AAAA;AAAA,SAC3BE,KAD2B,GACnB;AACJC,MAAAA,IAAI,EAAE,EADF;AAGJC,MAAAA,MAAM,EAAE;AAHJ,KADmB;AAAA,SAO3BC,MAP2B,GAOlB;AACLC,MAAAA,GAAG,EAAEP,GAAG,CAACQ,MAAJ,EADA;AAELC,MAAAA,KAAK,EAAET,GAAG,CAACQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,GAAxB,EAA6BC,QAA7B,EAFF;AAGLC,MAAAA,KAAK,EAAEb,GAAG,CAACQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EAHF;AAILE,MAAAA,WAAW,EAAEd,GAAG,CAACQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,IAAxB,EAA8BC,QAA9B,EAJR;AAKLG,MAAAA,QAAQ,EAAEf,GAAG,CAACQ,MAAJ,GAAaE,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,IAAxB,EAA8BC,QAA9B;AALL,KAPkB;;AAAA,SA+B3BI,QA/B2B,GA+BhB,YAAY;AACnB,YAAM;AAAEZ,QAAAA;AAAF,UAAW,KAAKD,KAAtB;AACA,YAAMJ,cAAc,CAACkB,WAAf,CAA2Bb,IAA3B,CAAN;AACA,WAAKc,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B;AACH,KAnC0B;AAAA;;AAeJ,QAAjBC,iBAAiB,GAAG;AACtB,UAAMC,SAAS,GAAG,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBF,SAA1C;AACA,UAAM;AAAElB,MAAAA;AAAF,QAAW,MAAML,cAAc,CAAC0B,UAAf,CAA0BH,SAA1B,CAAvB;AACA,SAAKI,QAAL,CAAc;AAAEtB,MAAAA,IAAI,EAAE,KAAKuB,cAAL,CAAoBvB,IAApB;AAAR,KAAd;AACH;;AAEDuB,EAAAA,cAAc,CAACC,OAAD,EAAU;AACpB,WAAO;AACHnB,MAAAA,KAAK,EAAEmB,OAAO,CAACnB,KADZ;AAEHI,MAAAA,KAAK,EAAEe,OAAO,CAACf,KAFZ;AAGHC,MAAAA,WAAW,EAAEc,OAAO,CAACd,WAHlB;AAIHC,MAAAA,QAAQ,EAAEa,OAAO,CAACb,QAJf;AAKHR,MAAAA,GAAG,EAAEqB,OAAO,CAACrB;AALV,KAAP;AAOH;;AAQDsB,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,KAAD,CAAO,QAAP;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BACI;AAAM,UAAA,QAAQ,EAAE,KAAKC,YAArB;AAAmC,UAAA,MAAM,EAAC,MAA1C;AAAA,qBACK,KAAKC,WAAL,CAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,CADL,EAEK,KAAKA,WAAL,CAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,CAFL,EAGK,KAAKC,cAAL,CAAoB,aAApB,EAAmC,aAAnC,EAAkD,aAAlD,CAHL,EAIK,KAAKD,WAAL,CAAiB,UAAjB,EAA6B,WAA7B,EAA0C,UAA1C,CAJL,EAKK,KAAKE,YAAL,CAAkB,gBAAlB,CALL;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAaH;;AAnD0B;;AAsD/B,eAAe/B,WAAf","sourcesContent":["import React from 'react';\r\nimport productService from '../services/productService';\r\nimport Joi from \"joi-browser\";\r\nimport Form from '../common/form';\r\n\r\n\r\nclass EditProduct extends Form {\r\n    state = {\r\n        data: {\r\n        },\r\n        errors: {}\r\n    }\r\n\r\n    schema = {\r\n        _id: Joi.string(),\r\n        title: Joi.string().min(2).max(255).required(),\r\n        price: Joi.string().min(1).max(10).required(),\r\n        description: Joi.string().min(2).max(1024).required(),\r\n        imageUrl: Joi.string().min(2).max(2024).required()\r\n    };\r\n\r\n    async componentDidMount() {\r\n        const productID = this.props.match.params.productID;\r\n        const { data } = await productService.getProduct(productID);\r\n        this.setState({ data: this.mapToViewModel(data) })\r\n    }\r\n\r\n    mapToViewModel(product) {\r\n        return {\r\n            title: product.title,\r\n            price: product.price,\r\n            description: product.description,\r\n            imageUrl: product.imageUrl,\r\n            _id: product._id\r\n        }\r\n    }\r\n\r\n    doSubmit = async () => {\r\n        const { data } = this.state;\r\n        await productService.editProduct(data);\r\n        this.props.history.replace(\"/admin\");\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"container mt-5\">\r\n                    <form onSubmit={this.handleSubmit} method=\"POST\">\r\n                        {this.renderInput('title', 'Title', 'Title')}\r\n                        {this.renderInput('price', 'Price', 'price')}\r\n                        {this.renderTextArea('description', 'Description', 'description')}\r\n                        {this.renderInput('imageUrl', 'Image url', 'ImageUrl')}\r\n                        {this.renderButton('Upload product')}\r\n                    </form>\r\n                </div>\r\n            </React.Fragment >\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditProduct;"]},"metadata":{},"sourceType":"module"}