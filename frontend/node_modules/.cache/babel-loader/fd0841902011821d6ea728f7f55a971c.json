{"ast":null,"code":"var _jsxFileName = \"C:\\\\scripting\\\\jobs assignments\\\\whist\\\\frontend\\\\src\\\\components\\\\editProduct.jsx\";\nimport React from 'react';\nimport productService from '../services/productService';\nimport Joi from \"joi-browser\";\nimport Form from '../common/form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditProduct extends Form {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: {\n        title: \"\",\n        price: \"\",\n        description: \"\",\n        imageUrl: \"\"\n      },\n      errors: {}\n    };\n    this.schema = {\n      _id: Joi.string(),\n      title: Joi.string().min(2).max(255).required(),\n      price: Joi.string().min(1).max(10).required(),\n      description: Joi.string().min(2).max(1024).required(),\n      imageUrl: Joi.string().min(2).max(2024).required()\n    };\n\n    this.doSubmit = async () => {\n      const {\n        data\n      } = this.state;\n      await productService.editProduct(data);\n      this.props.history.replace('/admin');\n    };\n  }\n\n  async componentDidMount() {\n    const productID = localStorage.getItem('');\n    const {\n      data\n    } = await productService.getProduct(productID);\n    this.setState({\n      data: this.mapToViewModel(data)\n    });\n  }\n\n  mapToViewModel(product) {\n    return {\n      title: product.title,\n      price: product.price,\n      description: product.description,\n      imageUrl: product.imageUrl,\n      _id: product._id\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          method: \"POST\",\n          children: [this.renderInput('title', 'Title', 'Title'), this.renderInput('price', 'Price', 'price'), this.renderTextArea('description', 'Description', 'description'), this.renderInput('imageUrl', 'Image url', 'ImageUrl'), this.renderButton('Upload product')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditProduct;","map":{"version":3,"sources":["C:/scripting/jobs assignments/whist/frontend/src/components/editProduct.jsx"],"names":["React","productService","Joi","Form","EditProduct","state","data","title","price","description","imageUrl","errors","schema","_id","string","min","max","required","doSubmit","editProduct","props","history","replace","componentDidMount","productID","localStorage","getItem","getProduct","setState","mapToViewModel","product","render","handleSubmit","renderInput","renderTextArea","renderButton"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,IAAP,MAAiB,gBAAjB;;;AAEA,MAAMC,WAAN,SAA0BD,IAA1B,CAA+B;AAAA;AAAA;AAAA,SAC3BE,KAD2B,GACnB;AACJC,MAAAA,IAAI,EAAE;AACFC,QAAAA,KAAK,EAAE,EADL;AACSC,QAAAA,KAAK,EAAE,EADhB;AACoBC,QAAAA,WAAW,EAAE,EADjC;AACqCC,QAAAA,QAAQ,EAAE;AAD/C,OADF;AAIJC,MAAAA,MAAM,EAAE;AAJJ,KADmB;AAAA,SAQ3BC,MAR2B,GAQlB;AACLC,MAAAA,GAAG,EAAEX,GAAG,CAACY,MAAJ,EADA;AAELP,MAAAA,KAAK,EAAEL,GAAG,CAACY,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,GAAxB,EAA6BC,QAA7B,EAFF;AAGLT,MAAAA,KAAK,EAAEN,GAAG,CAACY,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,EAAxB,EAA4BC,QAA5B,EAHF;AAILR,MAAAA,WAAW,EAAEP,GAAG,CAACY,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,IAAxB,EAA8BC,QAA9B,EAJR;AAKLP,MAAAA,QAAQ,EAAER,GAAG,CAACY,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,IAAxB,EAA8BC,QAA9B;AALL,KARkB;;AAAA,SAgC3BC,QAhC2B,GAgChB,YAAY;AACnB,YAAM;AAAEZ,QAAAA;AAAF,UAAW,KAAKD,KAAtB;AACA,YAAMJ,cAAc,CAACkB,WAAf,CAA2Bb,IAA3B,CAAN;AACA,WAAKc,KAAL,CAAWC,OAAX,CAAmBC,OAAnB,CAA2B,QAA3B;AACH,KApC0B;AAAA;;AAgBJ,QAAjBC,iBAAiB,GAAG;AACtB,UAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,EAArB,CAAlB;AACA,UAAM;AAAEpB,MAAAA;AAAF,QAAW,MAAML,cAAc,CAAC0B,UAAf,CAA0BH,SAA1B,CAAvB;AACA,SAAKI,QAAL,CAAc;AAAEtB,MAAAA,IAAI,EAAE,KAAKuB,cAAL,CAAoBvB,IAApB;AAAR,KAAd;AACH;;AAEDuB,EAAAA,cAAc,CAACC,OAAD,EAAU;AACpB,WAAO;AACHvB,MAAAA,KAAK,EAAEuB,OAAO,CAACvB,KADZ;AAEHC,MAAAA,KAAK,EAAEsB,OAAO,CAACtB,KAFZ;AAGHC,MAAAA,WAAW,EAAEqB,OAAO,CAACrB,WAHlB;AAIHC,MAAAA,QAAQ,EAAEoB,OAAO,CAACpB,QAJf;AAKHG,MAAAA,GAAG,EAAEiB,OAAO,CAACjB;AALV,KAAP;AAOH;;AAQDkB,EAAAA,MAAM,GAAG;AACL,wBACI,QAAC,KAAD,CAAO,QAAP;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,+BAEI;AAAM,UAAA,QAAQ,EAAE,KAAKC,YAArB;AAAmC,UAAA,MAAM,EAAC,MAA1C;AAAA,qBACK,KAAKC,WAAL,CAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,CADL,EAEK,KAAKA,WAAL,CAAiB,OAAjB,EAA0B,OAA1B,EAAmC,OAAnC,CAFL,EAGK,KAAKC,cAAL,CAAoB,aAApB,EAAmC,aAAnC,EAAkD,aAAlD,CAHL,EAIK,KAAKD,WAAL,CAAiB,UAAjB,EAA6B,WAA7B,EAA0C,UAA1C,CAJL,EAKK,KAAKE,YAAL,CAAkB,gBAAlB,CALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAeH;;AAtD0B;;AAyD/B,eAAe/B,WAAf","sourcesContent":["import React from 'react';\r\nimport productService from '../services/productService';\r\nimport Joi from \"joi-browser\";\r\nimport Form from '../common/form';\r\n\r\nclass EditProduct extends Form {\r\n    state = {\r\n        data: {\r\n            title: \"\", price: \"\", description: \"\", imageUrl: \"\"\r\n        },\r\n        errors: {}\r\n    }\r\n\r\n    schema = {\r\n        _id: Joi.string(),\r\n        title: Joi.string().min(2).max(255).required(),\r\n        price: Joi.string().min(1).max(10).required(),\r\n        description: Joi.string().min(2).max(1024).required(),\r\n        imageUrl: Joi.string().min(2).max(2024).required()\r\n    };\r\n\r\n    async componentDidMount() {\r\n        const productID = localStorage.getItem('');\r\n        const { data } = await productService.getProduct(productID);\r\n        this.setState({ data: this.mapToViewModel(data) })\r\n    }\r\n\r\n    mapToViewModel(product) {\r\n        return {\r\n            title: product.title,\r\n            price: product.price,\r\n            description: product.description,\r\n            imageUrl: product.imageUrl,\r\n            _id: product._id\r\n        }\r\n    }\r\n\r\n    doSubmit = async () => {\r\n        const { data } = this.state;\r\n        await productService.editProduct(data);\r\n        this.props.history.replace('/admin');\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"container mt-5\">\r\n\r\n                    <form onSubmit={this.handleSubmit} method=\"POST\">\r\n                        {this.renderInput('title', 'Title', 'Title')}\r\n                        {this.renderInput('price', 'Price', 'price')}\r\n                        {this.renderTextArea('description', 'Description', 'description')}\r\n                        {this.renderInput('imageUrl', 'Image url', 'ImageUrl')}\r\n                        {this.renderButton('Upload product')}\r\n                    </form>\r\n\r\n                </div>\r\n            </React.Fragment >\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditProduct;"]},"metadata":{},"sourceType":"module"}