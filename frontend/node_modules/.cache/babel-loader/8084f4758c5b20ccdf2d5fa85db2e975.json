{"ast":null,"code":"'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\n\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Template = require('./template');\n\nconst internals = {};\n\nexports.compile = function (messages, target) {\n  // Single value string ('plain error message', 'template {error} message')\n  if (typeof messages === 'string') {\n    Assert(!target, 'Cannot set single message string');\n    return new Template(messages);\n  } // Single value template\n\n\n  if (Template.isTemplate(messages)) {\n    Assert(!target, 'Cannot set single message template');\n    return messages;\n  } // By error code { 'number.min': <string | template> }\n\n\n  Assert(typeof messages === 'object' && !Array.isArray(messages), 'Invalid message options');\n  target = target ? Clone(target) : {};\n\n  for (let code in messages) {\n    const message = messages[code];\n\n    if (code === 'root' || Template.isTemplate(message)) {\n      target[code] = message;\n      continue;\n    }\n\n    if (typeof message === 'string') {\n      target[code] = new Template(message);\n      continue;\n    } // By language { english: { 'number.min': <string | template> } }\n\n\n    Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n    const language = code;\n    target[language] = target[language] || {};\n\n    for (code in message) {\n      const localized = message[code];\n\n      if (code === 'root' || Template.isTemplate(localized)) {\n        target[language][code] = localized;\n        continue;\n      }\n\n      Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n      target[language][code] = new Template(localized);\n    }\n  }\n\n  return target;\n};\n\nexports.decompile = function (messages) {\n  // By error code { 'number.min': <string | template> }\n  const target = {};\n\n  for (let code in messages) {\n    const message = messages[code];\n\n    if (code === 'root') {\n      target[code] = message;\n      continue;\n    }\n\n    if (Template.isTemplate(message)) {\n      target[code] = message.describe({\n        compact: true\n      });\n      continue;\n    } // By language { english: { 'number.min': <string | template> } }\n\n\n    const language = code;\n    target[language] = {};\n\n    for (code in message) {\n      const localized = message[code];\n\n      if (code === 'root') {\n        target[language][code] = localized;\n        continue;\n      }\n\n      target[language][code] = localized.describe({\n        compact: true\n      });\n    }\n  }\n\n  return target;\n};\n\nexports.merge = function (base, extended) {\n  if (!base) {\n    return exports.compile(extended);\n  }\n\n  if (!extended) {\n    return base;\n  } // Single value string\n\n\n  if (typeof extended === 'string') {\n    return new Template(extended);\n  } // Single value template\n\n\n  if (Template.isTemplate(extended)) {\n    return extended;\n  } // By error code { 'number.min': <string | template> }\n\n\n  const target = Clone(base);\n\n  for (let code in extended) {\n    const message = extended[code];\n\n    if (code === 'root' || Template.isTemplate(message)) {\n      target[code] = message;\n      continue;\n    }\n\n    if (typeof message === 'string') {\n      target[code] = new Template(message);\n      continue;\n    } // By language { english: { 'number.min': <string | template> } }\n\n\n    Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n    const language = code;\n    target[language] = target[language] || {};\n\n    for (code in message) {\n      const localized = message[code];\n\n      if (code === 'root' || Template.isTemplate(localized)) {\n        target[language][code] = localized;\n        continue;\n      }\n\n      Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n      target[language][code] = new Template(localized);\n    }\n  }\n\n  return target;\n};","map":{"version":3,"sources":["C:/scripting/jobs assignments/whist/backend/node_modules/joi/lib/messages.js"],"names":["Assert","require","Clone","Template","internals","exports","compile","messages","target","isTemplate","Array","isArray","code","message","language","localized","decompile","describe","compact","merge","base","extended"],"mappings":"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","sourcesContent":["'use strict';\n\nconst Assert = require('@hapi/hoek/lib/assert');\nconst Clone = require('@hapi/hoek/lib/clone');\n\nconst Template = require('./template');\n\n\nconst internals = {};\n\n\nexports.compile = function (messages, target) {\n\n    // Single value string ('plain error message', 'template {error} message')\n\n    if (typeof messages === 'string') {\n        Assert(!target, 'Cannot set single message string');\n        return new Template(messages);\n    }\n\n    // Single value template\n\n    if (Template.isTemplate(messages)) {\n        Assert(!target, 'Cannot set single message template');\n        return messages;\n    }\n\n    // By error code { 'number.min': <string | template> }\n\n    Assert(typeof messages === 'object' && !Array.isArray(messages), 'Invalid message options');\n\n    target = target ? Clone(target) : {};\n\n    for (let code in messages) {\n        const message = messages[code];\n\n        if (code === 'root' ||\n            Template.isTemplate(message)) {\n\n            target[code] = message;\n            continue;\n        }\n\n        if (typeof message === 'string') {\n            target[code] = new Template(message);\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n\n        const language = code;\n        target[language] = target[language] || {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root' ||\n                Template.isTemplate(localized)) {\n\n                target[language][code] = localized;\n                continue;\n            }\n\n            Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n            target[language][code] = new Template(localized);\n        }\n    }\n\n    return target;\n};\n\n\nexports.decompile = function (messages) {\n\n    // By error code { 'number.min': <string | template> }\n\n    const target = {};\n    for (let code in messages) {\n        const message = messages[code];\n\n        if (code === 'root') {\n            target[code] = message;\n            continue;\n        }\n\n        if (Template.isTemplate(message)) {\n            target[code] = message.describe({ compact: true });\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        const language = code;\n        target[language] = {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root') {\n                target[language][code] = localized;\n                continue;\n            }\n\n            target[language][code] = localized.describe({ compact: true });\n        }\n    }\n\n    return target;\n};\n\n\nexports.merge = function (base, extended) {\n\n    if (!base) {\n        return exports.compile(extended);\n    }\n\n    if (!extended) {\n        return base;\n    }\n\n    // Single value string\n\n    if (typeof extended === 'string') {\n        return new Template(extended);\n    }\n\n    // Single value template\n\n    if (Template.isTemplate(extended)) {\n        return extended;\n    }\n\n    // By error code { 'number.min': <string | template> }\n\n    const target = Clone(base);\n\n    for (let code in extended) {\n        const message = extended[code];\n\n        if (code === 'root' ||\n            Template.isTemplate(message)) {\n\n            target[code] = message;\n            continue;\n        }\n\n        if (typeof message === 'string') {\n            target[code] = new Template(message);\n            continue;\n        }\n\n        // By language { english: { 'number.min': <string | template> } }\n\n        Assert(typeof message === 'object' && !Array.isArray(message), 'Invalid message for', code);\n\n        const language = code;\n        target[language] = target[language] || {};\n\n        for (code in message) {\n            const localized = message[code];\n\n            if (code === 'root' ||\n                Template.isTemplate(localized)) {\n\n                target[language][code] = localized;\n                continue;\n            }\n\n            Assert(typeof localized === 'string', 'Invalid message for', code, 'in', language);\n            target[language][code] = new Template(localized);\n        }\n    }\n\n    return target;\n};\n"]},"metadata":{},"sourceType":"script"}